"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[88016],{64138:function(e,t,n){n(93981);var r=n(85394),o=n(29541);t.Z=function(e){var t=e.width,n=e.height,i=e.className;return(0,o.jsx)("div",{style:{maxWidth:t,height:n},className:"flex w-screen min-w-full items-center justify-center space-y-6 bg-white/5 p-5 backdrop-blur-[20px] ".concat(i),children:(0,o.jsx)(r.Z,{})})}},51232:function(e,t,n){n.d(t,{w_:function(){return s}});var r=n(63956);n(65558),n(13838),n(11421);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return Object.keys(e).reduce((function(t,n){var o=e[n];return o?i(i({},t),{},(0,r.Z)({},n,"string"===typeof o?o:"function"===typeof o.toString?o.toString():"")):t}),{})}},41264:function(e,t,n){n.d(t,{Z:function(){return d},i:function(){return c}});var r=n(97620),o=n(88932),i=n(93981),s=n(48645),a=n(13170),l=n(29541),u=function(e){var t=e.percentage,n=e.strokeWidth,r=void 0===n?2:n,o=e.sqSize,i=void 0===o?14:o,s=(i-r)/2,a="0 0 ".concat(i," ").concat(i),u=s*Math.PI*2,c=u-u*t/100;return(0,l.jsxs)("svg",{width:i,height:i,viewBox:a,children:[(0,l.jsx)("circle",{className:"fill-transparent stroke-white-75",cx:i/2,cy:i/2,r:s,strokeWidth:"".concat(r,"px")}),(0,l.jsx)("circle",{className:"fill-transparent stroke-black",strokeLinecap:"round",strokeLinejoin:"round",cx:i/2,cy:i/2,r:s,strokeWidth:"".concat(r+.4,"px"),transform:"rotate(-90 ".concat(i/2," ").concat(i/2,")"),style:{strokeDasharray:u,strokeDashoffset:c}})]})},c=function(e){var t=e.isSubmitting,n=e.lastRefreshTimestamp,l=e.value,u=e.refresh,c=i.useState((0,o.Z)((new Date).getTime(),n)),d=(0,r.Z)(c,2),m=d[0],p=d[1];return(0,s.Z)((function(){if(!t){var e=(0,o.Z)((new Date).getTime(),n);p(e),e>=a.GJ&&(l||0)>0&&u()}}),1e3),{timeDiff:m}},d=function(e){var t=e.lastRefreshTimestamp,n=e.isSubmitting,r=e.value,o=e.refresh,s=c({isSubmitting:n,lastRefreshTimestamp:t,value:r,refresh:o}).timeDiff,d=i.useCallback((function(e){e.stopPropagation(),o()}),[o]);return(0,l.jsx)("div",{className:"cursor-pointer",onClick:d,children:(0,l.jsx)(u,{sqSize:10,percentage:s/a.GJ*100})})}},57715:function(e,t,n){n.d(t,{ZP:function(){return y},Kc:function(){return w},BE:function(){return b}});var r=n(8473),o=n(4707),i=n(93981),s=n(13215),a=n(24201),l=n(96065),u=n(70602),c=n(81652),d=n(25546),m=n(70006),p=n(39268),f=n.n(p),x=n(64138),v=n(29541),h=f()((function(){return n.e(77829).then(n.bind(n,77829))}),{loading:function(){return(0,v.jsx)(x.Z,{width:600,height:380})},loadableGenerated:{webpack:function(){return[77829]}}}),g=f()((function(){return n.e(26170).then(n.bind(n,26170))}),{loading:function(){return(0,v.jsx)(x.Z,{width:600,height:380})},loadableGenerated:{webpack:function(){return[26170]}}}),j=function(e){var t=e.control,n=(0,s.qo)({control:t,name:"selectedRoute"}),r="Graphviz"===i.useMemo((function(){var e;return null===(e=localStorage)||void 0===e?void 0:e.getItem("preferred-graph")}),[])?g:h;return(0,v.jsx)(r,{quoteResponse:null===n||void 0===n?void 0:n.quoteResponse})},b={"Orca V1":"Orca","Orca V2":"Orca","Lifinity V2":"Lifinity","Lifinity V1":"Lifinity",Whirlpool:"Orca","Raydium CLMM":"Raydium",Mercurial:"Meteora"},w=function(e){var t=0,n=new Set,r=new Set,o=new Set;return e.forEach((function(e){var i=e.swapInfo,s=i.inputMint,a=i.label,l=i.ammKey;o.has(s)?t+=1:o.add(s),r.add(l.toString()),n.add(b[a]||a)})),{splits:t,labels:n,ammKeys:r}},y=function(e){var t,n=e.loading,p=e.control,f=(0,c.jB)(),x=f.onlyDirectRoutes,h=f.setOnlyDirectRoutes,g=(0,m.JT)().openModal,b=(0,s.qo)({control:p,name:"selectedRoute"}),y=i.useMemo((function(){return b?w(b.quoteResponse.routePlan):null}),[b]),k=(0,d.Nr)(n,100),N=(0,d.Nr)(Boolean(!b||!y),100);return(0,v.jsxs)("div",{children:[(0,v.jsxs)("button",{type:"button",className:(0,a.cn)("group relative flex w-full items-center space-x-1 overflow-hidden transition-all",N?"h-0 opacity-0":"h-[22px] opacity-100",k?"pointer-events-none opacity-50 blur-xs":"opacity-100"),onClick:function(){g((0,v.jsx)(j,{control:p}),{noCloseButton:!1,containerStyle:{background:"none"}})},children:[(0,v.jsx)("div",{className:(0,a.cn)("rounded-full border border-v2-primary","group-hover:from-v2-primary/25 group-hover:to-v2-primary/25"),children:(0,v.jsx)("span",{className:(0,a.cn)("flex items-center space-x-1 rounded-[100px] bg-[rgba(199,242,132,0.1)] text-xxs","group-hover:bg-[#3a474f]"),children:(0,v.jsxs)("span",{className:(0,a.cn)("flex items-center whitespace-nowrap px-2 py-0.5 text-v2-primary","font-semibold group-hover:text-v2-primary"),children:[(0,v.jsx)(u.Z,{className:"mb-px text-v2-primary group-hover:text-v2-primary"}),(0,v.jsxs)(v.Fragment,{children:[function(){var e=((null===y||void 0===y?void 0:y.splits)||0)+1;return e>1?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(r.cC,{id:"jNns1a",values:{numRoutes:e}})," ","+"," "]}):null}(),((null===y||void 0===y?void 0:y.ammKeys.size)||0)>0&&(0,v.jsx)(r.cC,{id:"lKVG55",values:{0:null!==(t=null===y||void 0===y?void 0:y.ammKeys.size)&&void 0!==t?t:""}})]})]})})}),(0,v.jsxs)("div",{className:"flex w-full items-center justify-between space-x-2",children:[(0,v.jsx)("span",{className:"max-w-[120px] truncate text-left text-xs text-white-50 group-hover:text-v2-primary md:max-w-[200px]",children:(null===y||void 0===y?void 0:y.labels)&&(0,v.jsx)(r.cC,{id:"74MSE4",values:{0:Array.from(y.labels).join(", ")}})}),(0,v.jsx)(l.Z,{className:"ml-auto text-black-35 group-hover:text-v2-primary"})]})]}),x&&(0,v.jsxs)("div",{className:"mt-2 flex flex-col justify-start rounded-lg border border-warning/50 bg-warning/10 px-3 py-2 text-xs text-perps-warning",children:[(0,v.jsx)("p",{children:o.ag._({id:"yoZ1FV"})}),(0,v.jsx)("div",{onClick:function(){return h(!1)},className:"mt-2 cursor-pointer underline",children:o.ag._({id:"rPl9v6"})})]})]})}},88016:function(e,t,n){n.d(t,{Z:function(){return Rt}});var r=n(27195),o=n(70107),i=n(97620),s=n(63956),a=n(8857),l=n.n(a),u=n(8473),c=n(4707),d=n(14131),m=n(32532),p=n(72215),f=n(27177),x=n(7744),v=n(13838),h=n(9319),g=n.n(h),j=n(93981),b=n(13215),w=n(59644),y=n(44495),k=n(13170),N=n(42082),S=n(89521),T=n(22466),C=n(24201),P=n(25546),O=n(99438),M=n(56100),Z=n(82625),R=n(69825),I=n(29541),V=function(e){var t=e.loading,n=e.name,r=e.control,o=e.disabled,i=e.onFocus,s=e.onKeyDown,a=e.onPaste,l=e.placeholder,u=e.onChange,c=e.tokenAmountClassname,d=e.usdValueClassname,m=e.priceType,f=(0,p.Bn)().getTokenInfo,x=j.useRef(null),v=(0,b.qo)({control:r,name:"fromValue"===n?"fromTokenAddress":"toTokenAddress"}),h=j.useMemo((function(){return f(v)}),[f,v]);return(0,I.jsx)(b.Qr,{name:n,control:r,rules:{required:"Required"},render:function(e){var r=e.field,p=r.onChange,f=r.value,g=r.onBlur;return(0,I.jsxs)("div",{className:"flex h-full flex-col text-right",children:[t||!h?(0,I.jsx)(M.O,{className:"ml-2 h-6 w-24 self-end"}):(0,I.jsx)(R.Z,{name:n,className:(0,C.cn)("outline-none disabled:!text-white",c),decimals:h.decimals,onChange:u?function(e){p(e),u(e)}:p,value:null===f||void 0===f?void 0:f.value,disabled:o,ref:x,onBlur:g,onFocus:i,onKeyDown:s,onPaste:a,placeholder:l}),t?(0,I.jsx)(M.O,{className:"ml-2 mt-0.5 h-4 w-8 self-end"}):null!==f&&void 0!==f&&f.value?(0,I.jsx)("div",{className:(0,C.cn)("text-xs text-white-35"),onClick:function(){var e;return null===x||void 0===x||null===(e=x.current)||void 0===e?void 0:e.focus()},children:(0,I.jsx)(Z.Z,{tokenAddress:v,value:f,className:d,priceType:m})}):null]})}})},A=n(41264),D=n(67768),E=n(65670),B=n(1242),L=n(69667),_=n(70006),F=n(59978),q=function(e){var t=e.control,n=e.name,r=e.modalId,o=e.getValues,s=e.disableTokenSelect,a=(0,p.Bn)(),l=a.getTokenInfo,u=a.tokenMap,c=(0,_.JT)(),d=c.closeModal,m=c.openContextualModal,f=c.setContextValue,x=c.ModalContextConsumer,v=(0,N.T)(),h=(0,b.bc)({control:t,name:n}).field,g=(0,b.qo)({control:t,name:["fromTokenAddress","toTokenAddress"]}),w=(0,i.Z)(g,2),y=w[0],k=w[1],S=(0,j.useMemo)((function(){return"fromTokenAddress"===n?y:k}),[y,k,n]),T=(0,j.useMemo)((function(){return l(S)}),[l,S]),P=(0,j.useMemo)((function(){return Array.from(u.values()).map((function(e){return e.address}))}),[u]),O=(0,j.useCallback)((function(e){x&&(f(r,P),m(r,P,(0,I.jsx)(x,{children:function(t){return(0,I.jsx)(E.ZP,{onSubmit:function(t){e.current(t)},mintsList:t,bestTokens:B.KG})}}),{position:"top",noCloseButton:!0}))}),[x,P,r,m,f]),M=(0,j.useCallback)((function(e){var t,r;if(e){var i,s,a=o(),u=a.toTokenAddress,c=a.fromTokenAddress;if("fromTokenAddress"===n)u===e.address?(i=e,s=l(c)):(i=e,s=l(u));else c===e.address?(i=l(u),s=e):(i=l(c),s=e);h.onChange("fromTokenAddress"===n?null===(t=i)||void 0===t?void 0:t.address:null===(r=s)||void 0===r?void 0:r.address),v(i,s),d()}}),[d,h,l,o,n,v]),Z=(0,j.useRef)(M);return Z.current=M,(0,j.useEffect)((function(){f(r,P)}),[r,f,P]),(0,I.jsx)("div",{className:"group/select flex items-center justify-between",children:(0,I.jsxs)("button",{type:"button",disabled:s,className:(0,C.cn)("flex h-10 items-center space-x-3 rounded-lg border-transparent px-3 py-2",s?"":"border bg-v2-background-page group-hover/select:border-v2-primary/50 group-hover/select:bg-[rgba(199,242,132,0.2)] group-hover/select:shadow-swap-input-dark"),onClick:function(){return O(Z)},children:[(0,I.jsx)("div",{className:"rounded-full",children:(null===T||void 0===T?void 0:T.logoURI)&&(0,I.jsx)(F.Z,{width:24,height:24,info:T,noCache:(0,D.tr)(T)})}),(0,I.jsx)("div",{className:"text-sm font-semibold",translate:"no",children:null===T||void 0===T?void 0:T.symbol}),!s&&(0,I.jsx)("div",{className:"fill-current text-white/25 group-hover/select:text-v2-primary",children:(0,I.jsx)(L.Z,{})})]})})},K=n(13154),z=n(28940),U=n(55948),G=n(43723),H=n(24684),W=n(12627),Q=n(3082),Y=n(74925),J=n(99882),X=n(89349),$=n(60021),ee=n(39913),te=n(88381),ne=n(62348),re=n(45009),oe=n(41144);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=function(e,t){return{name:t,timestamp:1e3*e.unixTime,price:e.value}};var le=function(e){var t=e.active,n=e.payload;if(t&&n&&n.length&&"number"===typeof n[0].value){var r=n[0].value,o=(0,W.Z)(n[0].payload.timestamp,"p");return(0,I.jsxs)("div",{className:"flex flex-col rounded-md bg-black px-2 py-1 text-xs",children:[(0,I.jsx)("span",{children:o}),(0,I.jsxs)("span",{className:"flex h-5 items-center space-x-1",children:[(0,I.jsx)("span",{children:"$"}),(0,I.jsx)("span",{children:Number(r)<1e-6?(0,I.jsx)(te.ZP,{value:Number(r),maxSuffix:6}):(0,I.jsx)("span",{children:new v.Z(r).toDP(6).toString()})})]})]})}return null},ue=function(e){var t=e.token,n=e.priceInUsd,r=j.useCallback((function(e){var t=String(e).split(".");return t.length>1?t[1].length:0}),[]);return Number.isNaN(Number(null===n||void 0===n?void 0:n.usd))?(0,I.jsx)(I.Fragment,{children:"N/A"}):Number(null===n||void 0===n?void 0:n.usd)<1e-6?(0,I.jsx)(te.ZP,{value:Number(null===n||void 0===n?void 0:n.usd),maxSuffix:6}):r(null===n||void 0===n?void 0:n.usd)>t.decimals?(0,I.jsx)(I.Fragment,{children:null===n||void 0===n?void 0:n.usd.toFixed(t.decimals)}):(0,I.jsx)(I.Fragment,{children:null===n||void 0===n?void 0:n.usd})},ce=function(e){var t=e.token,n=(0,f.XA)(),o=(0,Q.useRouter)(),i=function(e,t){var n=e.token,o=e.interval,i=void 0===o?"":o,s=t.enabled,a=n.address,u=j.useMemo((function(){var e=new Date;return new URLSearchParams({address:a,type:"5m",time_to:(e.getTime()/1e3).toFixed(0)})}),[a]),c="".concat("https://birdeye-proxy.jup.ag/defi/history_price","?").concat(u.toString());return se(se({},(0,re.a)(["".concat(a,"-useChartData-").concat(i)],(0,r.Z)(l().mark((function e(){var t,n,r,o,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,oe.ZP.get(c).json();case 5:return t=e.sent,n=t.data,r=new v.Z(n.items[n.items.length-1].value),o=new v.Z(n.items[0].value),i=new v.Z(r).div(o),e.abrupt("return",{marketChart:n.items.map(ae),change24H:new v.Z(i).sub(1).mul(100).toDP(2).toNumber()});case 13:throw e.prev=13,e.t0=e.catch(2),console.error("useChartData",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[2,13]])}))),{enabled:s&&Boolean(a),refetchInterval:6e4,staleTime:6e4,retry:1,retryDelay:1e4,keepPreviousData:!0})),{},{apiURL:{marketChart:c}})}({token:t,interval:"5m"},{enabled:o.isReady}),s=i.data,a=(0,j.useMemo)((function(){var e=null===s||void 0===s?void 0:s.marketChart[(null===s||void 0===s?void 0:s.marketChart.length)-1];return e&&null!==e&&void 0!==e&&e.price?{usd:e.price,timestamp:Number(e.timestamp),source:"birdeye"}:null}),[null===s||void 0===s?void 0:s.marketChart]),u=(0,j.useMemo)((function(){if(!s)return null;var e=P.uf.format(String(s.change24H));return s.change24H>0?"+".concat(e,"%"):"".concat(e,"%")}),[s]),c=(0,j.useMemo)((function(){return"https://ape.pro/solana/".concat(t.address)}),[t.address]);return(0,I.jsxs)("div",{className:"flex justify-between text-white",translate:"no",children:[(0,I.jsxs)("div",{className:"flex w-full max-w-[60%] items-center space-x-3 text-ellipsis md:max-w-[35%]",children:[(0,I.jsx)(F.Z,{info:t,width:24,height:24,noCache:(0,D.tr)(t)}),(0,I.jsxs)("div",{className:"flex flex-col",children:[(0,I.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,I.jsx)("span",{className:"text-sm font-semibold text-white-75",children:t.symbol}),(0,I.jsx)(ne.Z,{tokenInfo:t,customUrl:c})]}),(0,I.jsx)("span",{className:"text-ellipsis text-xs text-white-50",children:t.name})]})]}),(0,I.jsxs)("div",{className:"w-full max-w-[50%]",children:[(0,I.jsxs)("div",{className:"flex w-full items-center",children:[a&&(0,I.jsx)("span",{className:"mr-2.5 w-3/5 text-ellipsis text-[14px] font-semibold",children:(0,I.jsx)(ue,{token:t,priceInUsd:a})}),(0,I.jsx)("span",{className:"mr-2.5 w-2/5 text-ellipsis text-[14px] font-semibold ".concat(((null===s||void 0===s?void 0:s.change24H)||0)>=0?"text-jupiter-jungle-green":"text-[#FF0000]"),children:u})]}),(0,I.jsx)("svg",{width:0,height:0,children:(0,I.jsx)("defs",{children:(0,I.jsxs)("linearGradient",{id:"linear",children:[(0,I.jsx)("stop",{offset:"0%",stopColor:"#FCC00A"}),(0,I.jsx)("stop",{offset:"100%",stopColor:"#4EBAE9"})]})})}),(0,I.jsx)("div",{className:"flex h-6 w-full items-center",children:null!==s&&void 0!==s&&s.marketChart?(0,I.jsx)(Y.h,{width:"100%",height:24,children:(0,I.jsxs)(J.w,{data:s.marketChart,children:[(0,I.jsx)(X.u,{position:{x:n?-64:230,y:n?-16:-6},content:function(e){return(0,I.jsx)(le,{active:e.active,payload:e.payload})}}),(0,I.jsx)($.x,{type:"monotone",dataKey:"price",stroke:"url(#linear)",strokeWidth:2,dot:!1}),(0,I.jsx)(ee.B,{hide:!0,domain:["dataMin","dataMax"]})]})}):null})]})]})},de=n(44517),me=n(25224),pe="!text-jupiter-jungle-green",fe="!text-jupiter-primary",xe="!text-jupiter-red",ve=function(e){var t=e.loading,n=(0,H.tX)(),r=n.rate,o=n.isMoreExp,i=n.isDanger,s=n.isWarning,a=n.percent,l=n.formattedPercent,d=n.isWithinTwoPercent,m=(0,j.useMemo)((function(){return o&&!d?c.ag._({id:"rmtEqi",values:{formattedPercent:l}}):o?c.ag._({id:"N3czIx",values:{formattedPercent:l}}):0===a?"< ".concat(me.uf.format(.1),"% cheaper"):"".concat(l,"% cheaper")}),[o,l,d,a]),p=(0,j.useMemo)((function(){return s?fe:i?xe:pe}),[i,s]);return null!==r&&m?(0,I.jsxs)("div",{className:"flex items-start justify-between text-xs",children:[(0,I.jsx)("div",{className:"justify-start text-white-50",children:(0,I.jsx)(u.cC,{id:"gY2ZKQ"})}),(0,I.jsx)("div",{className:"flex flex-col text-xs",children:t?(0,I.jsx)(M.O,{className:"mt-1 h-3 w-20"}):(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)("div",{className:"flex w-full flex-row justify-end",children:[(0,I.jsx)("span",{className:"".concat(p," text-end"),children:m}),(0,I.jsx)("div",{className:"fill-current ".concat(p)})]})})})]}):null},he=n(87148),ge=n(40558),je=function(e){var t=e.loading,n=e.hasAtaDeposit,r=e.feeInformation,o=(0,he.Z)(n),i=t&&o;return n||i?(0,I.jsxs)("div",{className:"flex items-start justify-between text-xs",children:[(0,I.jsxs)("div",{className:"flex w-1/2 text-white-50",children:[(0,I.jsx)(u.cC,{id:"kj3M8S"}),(0,I.jsx)(ge.Z,{variant:"dark",content:(0,I.jsx)("div",{className:"max-w-xs rounded-lg text-white-75",children:(0,I.jsx)("ul",{className:"pl-2",children:n&&(0,I.jsx)("li",{children:(0,I.jsx)("p",{children:(0,I.jsx)(u.cC,{id:"qH7KBw"})})})})}),children:(0,I.jsx)("span",{className:"ml-1 cursor-pointer",children:"[?]"})})]}),i?(0,I.jsx)(M.O,{className:"h-4 w-12 self-end"}):(0,I.jsx)("div",{className:"w-1/2 text-right text-xs text-white-50",children:function(){var e,t,o=[n&&r&&(0,I.jsx)("p",{children:(0,I.jsx)(u.cC,{id:"LrkXG5",values:{0:P.uf.format((0,P.lt)(r.ataDeposits.reduce((function(e,t){return e+=t}),0),9).toString()),1:null===r||void 0===r||null===(e=r.ataDeposits)||void 0===e?void 0:e.length,2:(null===r||void 0===r||null===(t=r.ataDeposits)||void 0===t?void 0:t.length)||0}})},"ata")].filter(Boolean);return o.length?o:"-"}()})]}):null},be=n(81652),we="!text-jupiter-jungle-green",ye="!text-jupiter-primary",ke=function(e){var t,n,r,o,i,s,a,l,c=e.inputPair,d=e.outputPair,m=(0,be.y6)().tokenPriceMap,p=m[c.address],f=m[d.address],x=p&&(null===(t=p.extraInfo)||void 0===t?void 0:t.confidenceLevel),v=f&&(null===(n=f.extraInfo)||void 0===n?void 0:n.confidenceLevel),h=(0,j.useMemo)((function(){var e;return x&&"high"===(null===(e=p.extraInfo)||void 0===e?void 0:e.confidenceLevel)?we:ye}),[x,null===p||void 0===p||null===(r=p.extraInfo)||void 0===r?void 0:r.confidenceLevel]),g=(0,j.useMemo)((function(){var e;return v&&"high"===(null===f||void 0===f||null===(e=f.extraInfo)||void 0===e?void 0:e.confidenceLevel)?we:ye}),[v,null===f||void 0===f||null===(o=f.extraInfo)||void 0===o?void 0:o.confidenceLevel]);return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)("div",{className:"flex items-start justify-between text-xs",children:[(0,I.jsxs)("div",{className:"flex w-1/2 text-white-50",children:[(0,I.jsx)(u.cC,{id:"ELo8F2"}),(0,I.jsx)(ge.Z,{content:(0,I.jsx)(u.cC,{id:"jHetdv"}),children:(0,I.jsx)("span",{className:"ml-1 cursor-pointer",children:"[?]"})})]}),(0,I.jsxs)("div",{className:"flex flex-row text-xs",children:[x&&(0,I.jsxs)("div",{className:"flex w-full flex-row justify-end",children:[(0,I.jsx)("span",{className:"pr-1 text-end text-white-50",children:"".concat(c.symbol,":")}),(0,I.jsx)("span",{className:"fill-current ".concat(h),children:(null===(i=p.extraInfo)||void 0===i||null===(s=i.confidenceLevel)||void 0===s?void 0:s.toLocaleUpperCase())||"-"})]}),v&&(0,I.jsxs)("div",{className:"flex w-full flex-row justify-end pl-1",children:[(0,I.jsx)("span",{className:"pr-1 text-end text-white-50",children:"".concat(d.symbol,":")}),(0,I.jsx)("span",{className:"fill-current ".concat(g),children:(null===(a=f.extraInfo)||void 0===a||null===(l=a.confidenceLevel)||void 0===l?void 0:l.toLocaleUpperCase())||"-"})]})]})]})})},Ne=n(90342),Se=function(e){var t=e.feeInformation,n=(0,Ne.gs)().userMaxFeeInSOL,r=(0,j.useMemo)((function(){if(!t)return"-";var e=t.signatureFee;return new v.Z(e).div(Math.pow(10,9)).add("number"===typeof n&&n||0).toString()}),[t,n]);return(0,I.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,I.jsxs)("div",{className:"flex w-1/2 text-white-50",children:[(0,I.jsx)(u.cC,{id:"KS/Yzj"}),(0,I.jsx)(ge.Z,{content:(0,I.jsx)(u.cC,{id:"kxQ1tI"}),children:(0,I.jsx)("span",{className:"ml-1 cursor-pointer",children:"[?]"})})]}),(0,I.jsxs)("div",{className:"text-white-50",children:[r," SOL"]})]})},Te=function(e){var t,n=e.loading,r=e.route,o=e.inputPair,i=e.outputPair,s=(0,H.gJ)(),a=(0,de.v)(r),l=a.priceImpactText,c=a.priceImpactColor,m=(0,j.useMemo)((function(){var e=r.swapMode===d.jr.ExactIn?i:o,t=new v.Z(r.otherAmountThreshold.toString()).div(Math.pow(10,e.decimals)),n=P.uf.format(t);return"".concat(n," ").concat(e.symbol)}),[r.swapMode,r.otherAmountThreshold,i,o]),p=(null!==(t=null===s||void 0===s?void 0:s.ataDeposits.length)&&void 0!==t?t:0)>0,f=s;return(0,I.jsx)("div",{className:"mt-3 w-full rounded-lg border border-v2-lily/10 p-5 text-xs",children:(0,I.jsxs)("div",{className:"space-y-1",children:[(0,I.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,I.jsx)("div",{className:"text-white-50",children:r.swapMode===d.jr.ExactIn?(0,I.jsx)(u.cC,{id:"lTmG/H"}):(0,I.jsx)(u.cC,{id:"n8E9U9"})}),(0,I.jsx)("div",{className:"text-white-50",children:m})]}),(0,I.jsx)(Se,{feeInformation:f}),(0,I.jsx)(je,{loading:n,hasAtaDeposit:p,feeInformation:f}),(0,I.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,I.jsx)("div",{className:"text-white-50",children:(0,I.jsx)(u.cC,{id:"T+qgFw"})}),(0,I.jsx)("div",{className:c,children:l})]}),(0,I.jsx)(ve,{loading:n}),(0,I.jsx)(ke,{inputPair:o,outputPair:i})]})})},Ce=function(e){var t=e.loading,n=e.control,r=e.intervalRefresher,o=(0,b.qo)({control:n,name:"selectedRoute"}),s=(0,b.qo)({control:n,name:"fromValue.floatValue"}),a=(0,H.on)(),l=a.inputTokenInfo,c=a.outputTokenInfo,d=(0,H.tX)(),m=d.isWarning,p=d.isDanger,f=(0,z.Z)(),x=f.showSummary,v=f.setSpotSummary,h=j.useState(x),g=(0,i.Z)(h,2),w=g[0],y=g[1];if(j.useEffect((function(){(m||p)&&y(!0)}),[m,p]),!l||!c)return null;return(0,I.jsxs)("div",{className:"mx-1 mt-5 lg:mx-0 lg:my-5",children:[o?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:"flex justify-between",children:[(0,I.jsx)("span",{className:"flex flex-col",children:(0,I.jsx)(K.Z,{className:"text-xs font-medium",inputAmount:o.quoteResponse.inAmount,outputAmount:o.quoteResponse.outAmount,inputPair:l,outputPair:c,reversible:!0})}),(0,I.jsxs)("button",{type:"button",onClick:function(){w?(y(!1),v(!1)):(y(!0),v(!0))},className:"flex cursor-pointer items-start space-x-2 text-white/25 hover:text-v2-primary",children:[(0,I.jsx)("div",{className:"flex h-4 w-4 items-center fill-current",children:w?(0,I.jsx)(G.Z,{}):(0,I.jsx)(U.Z,{})}),(0,I.jsx)("span",{className:"text-xs font-medium",children:w?(0,I.jsx)(u.cC,{id:"DPM6n/"}):(0,I.jsx)(u.cC,{id:"YvPON1"})}),r]})]}),w&&(0,I.jsx)(Te,{route:o.quoteResponse,loading:t,inputPair:l,outputPair:c})]}):s>0?(0,I.jsxs)("div",{className:"flex justify-between",children:[(0,I.jsx)("div",{className:"flex h-4 w-4 items-center fill-current"}),r]}):null,(0,I.jsxs)("div",{className:"mt-2 flex w-full flex-col space-y-2 sm:mt-4",children:[(0,I.jsx)(ce,{token:l}),(0,I.jsx)(ce,{token:c})]})]})},Pe=n(57715),Oe=n(16344),Me=n(96404),Ze=function(e){var t=e.control,n=e.name,r=e.className,o=e.useWSol,i=(0,p.Bn)().tokenMap,s=(0,p.Os)().connected,a=(0,b.qo)({control:t,name:n}),l=j.useMemo((function(){return i.get(a)}),[i,a]);return s?(0,I.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,I.jsx)("div",{className:"mb-px fill-current text-white-75",children:(0,I.jsx)(Oe.Z,{width:12,height:12})}),(0,I.jsxs)("div",{className:(0,C.cn)("whitespace-nowrap text-xs font-normal text-v2-lily/50",r),children:[(0,I.jsx)(Me.Z,{mintAddress:a,useWSOL:o})," ",(0,I.jsx)("span",{children:null===l||void 0===l?void 0:l.symbol})]})]}):null},Re=n(95523),Ie=n(57281),Ve=n(11823),Ae=n(56720),De=n(40993),Ee=n(75206),Be=n(11711),Le=n(3011),_e=n(39268),Fe=n.n(_e),qe=n(85948),Ke=n(33130),ze=n(91553),Ue=n(81098),Ge={quotedSlippage:(0,n(9364).cn)(void 0)},He=n(11421),We=n(14167),Qe=n(49488),Ye=n(11003),Je=n(51232),Xe=n(62146),$e=n(10563),et=n(66989),tt=n(42916),nt=function(e){var t=e.ammName,n=e.excludeAmm,r=(0,_.JT)().closeModal;return(0,I.jsxs)("div",{className:"max-w-md bg-v2-background p-5",children:[(0,I.jsx)("p",{className:"mb-8 text-xl font-medium leading-5",children:"Transaction Failure"}),(0,I.jsxs)("p",{className:"mb-2 text-sm text-v2-lily/75",children:["Your transaction failed due to an issue with ",t]}),(0,I.jsx)("p",{className:"mb-8 text-sm text-v2-lily/75",children:"We recommend that you exclude affected DEX(es) and fetch a new quote for your swap."}),(0,I.jsxs)(O.Z,{className:"mb-2",size:"md",onClick:function(){n(),r()},children:["Exclude ",t," and Fetch New Quote"]}),(0,I.jsx)("button",{className:"mt-2 h-14 w-full rounded-xl border border-v2-lily/25",onClick:r,children:"Cancel"})]})},rt=function(e){var t=e.onClickExactIn;return(0,I.jsxs)("div",{className:"mt-2 flex flex-col justify-start rounded-lg border border-warning/50 bg-warning/10 px-3 py-2 text-xs text-perps-warning",children:[(0,I.jsx)("p",{children:c.ag._({id:"CkQDpF"})}),t&&(0,I.jsx)("div",{onClick:t,className:"mt-2 cursor-pointer underline",children:c.ag._({id:"/Kt5Cd"})})]})},ot=n(92956),it=n(65558),st=n.n(it),at=n(57917),lt=n(89881),ut=n(37124),ct=n(33118),dt=function(e){var t=e.control,n=e.loading,r=e.error,o=e.moreErrors,s=e.simulationButtonText,a=(0,ot.O)().connected,l=(0,b.cl)({control:t}).isSubmitting,m=(0,b.qo)({control:t,name:"fromTokenAddress"}),f=(0,b.qo)({control:t,name:"toTokenAddress"}),x=(0,b.qo)({control:t,name:"selectedRoute"}),h=(0,b.qo)({control:t,name:"fromValue"}),g=(0,b.qo)({control:t,name:"toValue"}),w=(0,b.qo)({control:t,name:"toastId"}),y=(0,p.jB)().useWSol,k=(0,p.Bn)().tokenMap,N=(0,p.FB)(m,void 0,y).balance,S=(0,p.gZ)().nativeAccount,T=(0,H.gJ)(),C=j.useMemo((function(){return null===k||void 0===k?void 0:k.get(m)}),[m,k]),P=j.useMemo((function(){return null===k||void 0===k?void 0:k.get(f)}),[f,k]),O=j.useMemo((function(){var e=N,t=null===C||void 0===C?void 0:C.decimals;if(x&&t){var n=x.quoteResponse.swapMode===Ie.jr.ExactOut?new v.Z(x.quoteResponse.otherAmountThreshold.toString()).div(Math.pow(10,C.decimals)):null===h||void 0===h?void 0:h.value;return new v.Z(n||0).lessThanOrEqualTo(e)}return!0}),[C,h,N,x]),M=j.useMemo((function(){if(T&&x){var e=!y&&x.quoteResponse.inputMint.equals(Ie.W4)?new(st())(x.quoteResponse.inAmount.toString()):new(st())(0);return((null===S||void 0===S?void 0:S.info.amount)||new(st())(0)).sub(e).gt(new(st())(T.minimumSOLForTransaction))}return!0}),[T,x,S,y]),Z=(0,lt.useIsAccountFrozen)(C),R=(0,lt.useIsAccountFrozen)(P),V=(0,at.kH)(w),A=V.isProcessing,D=V.isTxProcessed,E=V.isWaitingWalletToSign,B=j.useState(""),L=(0,i.Z)(B,2),_=L[0],F=L[1],q=j.useState(null),K=(0,i.Z)(q,2),z=K[0],U=K[1],G=j.useCallback((function(e){F("opacity-0"),setTimeout((function(){U(e),F("opacity-100")}),200)}),[]);return j.useEffect((function(){if(n)G((0,I.jsx)(u.cC,{id:"yQE2r9"}));else{var e={fromTokenAddress:m,toTokenAddress:f,fromValue:h,toValue:g};if(r)return r===d.D1.TOKEN_NOT_TRADABLE?G(c.ag._({id:"tz4GX1"})):r===d.D1.COULD_NOT_FIND_ANY_ROUTE||r===d.D1.NO_ROUTES_ERROR?((0,He.Kz)(qe.bk.NO_ROUTES_ERROR,e),G(c.ag._({id:"ZSrFB6"}))):r===d.D1.ROUTE_PLAN_DOES_NOT_CONSUME_ALL_THE_AMOUNT?G((0,I.jsx)(u.cC,{id:"P25nfv"})):r===d.D1.INVALID_REQUEST?G(c.ag._({id:"71Xwww"})):G((0,I.jsx)(u.cC,{id:"pspLgZ",components:{0:(0,I.jsx)("br",{})}})),void(0,He.Kz)(r,e);l?s?G(s):D?G((0,I.jsx)(u.cC,{id:"zisYnV"})):A&&G((0,I.jsx)(u.cC,{id:"vrnnn9"})):G((0,I.jsx)(u.cC,{id:"vH2C/2"}))}}),[A,l,D,E,n,G,x,null===h||void 0===h?void 0:h.value,s,r,m,f,h,g]),a||r?(0,I.jsx)(I.Fragment,{children:(0,I.jsx)("div",{className:(0,me.cn)("relative mt-2"),children:(0,I.jsx)(ut.Z,{disabled:!x||!O||!M||n||o.notTradableYet||!(null!==h&&void 0!==h&&h.value)||!(null!==g&&void 0!==g&&g.value)||Z||R,loading:l,type:"submit",className:"relative !transition-none",children:n?(0,I.jsx)(u.cC,{id:"yQE2r9"}):null!==o&&void 0!==o&&o.notTradableYet?(0,I.jsx)(u.cC,{id:"t+lyiG"}):null!==h&&void 0!==h&&h.value?O?M?Z||R?(0,I.jsx)(u.cC,{id:"DtetjN"}):(0,I.jsx)("span",{className:(0,me.cn)("duration-200",_),children:z}):(0,I.jsx)(u.cC,{id:"GyFBKR"}):(0,I.jsx)(u.cC,{id:"UsQ5AM",values:{0:null===C||void 0===C?void 0:C.symbol}}):(0,I.jsx)(u.cC,{id:"iPMIoT"})})})}):(0,I.jsx)(ct.Z,{className:"mt-2"})},mt=n(41118),pt=n(66956),ft=n(23632),xt=n(85394),vt=Fe()((function(){return n.e(20278).then(n.bind(n,20278))}),{ssr:!1,loadableGenerated:{webpack:function(){return[20278]}}}),ht="PAIRS_SELECT_TO_PAIR_MODAL_ID",gt=function(e){var t,n=e.onSubmit,r=e.refresh,o=e.loading,i=e.onClickMax,s=e.control,a=e.setValue,l=e.type,d=e.getValues,m=e.fromTokenInfo,f=e.toTokenInfo,x=e.isSubmitting,h=e.notTradableYet,b=e.error,w=e.simulationButtonText,y=(0,p.mQ)().slippageSettings,k=(0,pt.b)(m,f),N=k.quoteTokenInfo,S=k.baseTokenInfo,T=k.quoteTokenPrice,C=k.baseTokenPrice,P=k.rateDecimals,Z=j.useMemo((function(){if(!mt.d.find((function(e){return e===(null===m||void 0===m?void 0:m.address)||e===(null===f||void 0===f?void 0:f.address)})))return null;var e=(null===m||void 0===m?void 0:m.address)===(null===S||void 0===S?void 0:S.address);return{isFromBase:Boolean(e)}}),[null===S||void 0===S?void 0:S.address,null===m||void 0===m?void 0:m.address,null===f||void 0===f?void 0:f.address]),A=(0,ft.s)({quoteTokenInfo:N,baseTokenInfo:S,quoteTokenPrice:T,baseTokenPrice:C,isBaseQuoteMode:Z,rateDecimals:P,isSubmitting:x}),D=A.swapMarketPrice,E=A.isFetching,B=(0,j.useState)({formattedValue:"",value:"",floatValue:0}),L=B[0],_=B[1],F=(0,j.useState)({formattedValue:"",value:"",floatValue:0}),K=F[0],z=F[1],U=Boolean(!E&&D),G=j.useMemo((function(){var e=new v.Z(0);if(!U||!L||!D||!L.floatValue)return e;var t=new v.Z(L.floatValue).sub(D).div(D);return(e=new v.Z(100).mul(t).toDP(2)).isFinite()?e:new v.Z(0)}),[U,L,D]),H=j.useMemo((function(){return G.gt(1e4)?">10000":"".concat(G.toNumber()>0?"+":"").concat(G.toDP(2).toString())}),[G]),W=j.useMemo((function(){return null!==Z&&void 0!==Z&&Z.isFromBase?G.toNumber()<0:G.toNumber()>0}),[null===Z||void 0===Z?void 0:Z.isFromBase,G]),Q=j.useMemo((function(){return null!==Z&&void 0!==Z&&Z.isFromBase?G.toNumber()>0:G.toNumber()<0}),[null===Z||void 0===Z?void 0:Z.isFromBase,G]),Y=j.useMemo((function(){return W||Q}),[W,Q]),J=d().fromValue;(0,j.useEffect)((function(){if(null!==J&&void 0!==J&&J.floatValue&&L.floatValue&&f){var e=null!==Z&&void 0!==Z&&Z.isFromBase?new v.Z(J.floatValue).mul(L.floatValue).toDP(f.decimals):new v.Z(J.floatValue).div(L.floatValue).toDP(f.decimals);z({formattedValue:e.toString(),value:e.toString(),floatValue:e.toNumber()})}else z({formattedValue:"",value:"",floatValue:void 0})}),[null===J||void 0===J?void 0:J.floatValue,D,L.floatValue,f,Z]),(0,j.useEffect)((function(){U&&D&&_({formattedValue:D.toString(),value:D.toString(),floatValue:D.toNumber()})}),[U,D]);var X=(0,j.useCallback)((function(e){if(e.preventDefault(),"minimum-output"!==y.mode)n();else{if(!K.floatValue||!f)return;n({minimumOutput:g().BigInt(new v.Z(K.floatValue).mul(Math.pow(10,f.decimals)).toFixed())})}}),[K.floatValue,n,y.mode,f]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(vt,{onlySlippageSettings:!0,refresh:r,loading:o,isLaunchPage:!0}),(0,I.jsxs)("form",{onSubmit:X,children:[(0,I.jsxs)("div",{className:"relative mt-1 flex-col space-y-2",children:[(0,I.jsxs)("div",{className:"flex justify-between",children:[(0,I.jsx)("label",{htmlFor:"fromValue",className:"text-xs font-medium text-white md:text-sm",children:(0,I.jsx)(u.cC,{id:"67NyRk"})}),(0,I.jsxs)("div",{className:"flex space-x-2",children:[(0,I.jsx)("div",{className:"item-center ml-1 flex cursor-pointer hover:text-white-50",onClick:i,children:(0,I.jsx)(Ze,{control:s,name:"fromTokenAddress",className:"hover:text-white-50"})}),(0,I.jsx)(Ve.oi,{mint:null!==(t=null===m||void 0===m?void 0:m.address)&&void 0!==t?t:"",onBalanceChange:function(e){a("fromValue",{floatValue:e.toNumber(),formattedValue:e.toString(),value:e.toString()})}})]})]}),(0,I.jsx)("div",{className:(0,me.cn)("group relative flex h-[72px] flex-col space-y-3 rounded-xl border border-transparent bg-v2-background-dark p-4","focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark"),children:(0,I.jsxs)("div",{className:"flex",children:[(0,I.jsx)(q,{disableTokenSelect:"sell"===(null===l||void 0===l?void 0:l.side),getValues:d,control:s,modalId:ht,name:"fromTokenAddress"}),(0,I.jsx)("span",{className:"flex-1 text-right",children:(0,I.jsx)(V,{control:s,name:"fromValue"})})]})}),"minimum-output"===y.mode&&(0,I.jsx)("div",{className:"my-2 flex-col-reverse space-y-2 sm:flex sm:flex-row sm:space-x-3 sm:space-y-0",children:(0,I.jsxs)("div",{className:(0,me.cn)("flex w-full flex-col justify-center space-y-1 rounded-xl bg-v2-background-dark p-4","border border-transparent focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark","relative"),children:[(0,I.jsxs)("div",{className:"flex justify-between",children:[(0,I.jsxs)("div",{className:"flex items-center",children:[S?(0,I.jsxs)("p",{className:"flex items-center text-xs text-white-35",children:[null!==Z&&void 0!==Z&&Z.isFromBase?(0,I.jsx)(u.cC,{id:"xNB0TS"}):(0,I.jsx)(u.cC,{id:"qiOIiY"})," ",(0,I.jsx)(u.cC,{id:"kBSo/e",values:{0:null===S||void 0===S?void 0:S.symbol}}),E?(0,I.jsx)(xt.Z,{className:"ml-1",width:8,height:8}):null]}):(0,I.jsx)(M.O,{className:"h-4 w-2"}),Y?(0,I.jsx)("div",{className:(0,me.cn)("ml-1 flex items-center text-xs font-medium",{"text-jupiter-yellow":W,"text-v2-primary":Q}),children:"(".concat(H,"%)")}):null]}),D&&D.gt(0)?(0,I.jsx)("button",{type:"button",className:"cursor-pointer rounded text-xxs text-white-35 underline hover:text-white-75",onClick:function(){D&&_({formattedValue:D.toString(),value:D.toString(),floatValue:D.toNumber()})},children:(0,I.jsx)(u.cC,{id:"+NNtb4"})}):null]}),(0,I.jsxs)("div",{className:"relative flex items-end",children:[(0,I.jsx)(R.Z,{decimals:P,onChange:function(e){_(e)},value:L.floatValue,disabled:!1,className:"flex-1 !text-left !text-sm"}),N?(0,I.jsx)("div",{className:"flex items-center",children:(0,I.jsx)("span",{className:"text-sm font-semibold",children:null===N||void 0===N?void 0:N.symbol})}):(0,I.jsx)(M.O,{className:"h-6 w-11"})]})]})}),(0,I.jsxs)("div",{className:"mt-2 flex justify-between",children:[(0,I.jsx)("label",{className:"text-xs font-medium text-white md:text-sm",children:"minimum-output"===y.mode?c.ag._({id:"uKboGs"}):c.ag._({id:"CCrO9m"})}),(0,I.jsx)("div",{className:"flex",children:(0,I.jsx)(Ze,{control:s,name:"toTokenAddress"})})]}),(0,I.jsx)("div",{className:"flex h-[72px] flex-col space-y-3 rounded-xl border-0 bg-[rgba(14,19,32,0.3)] p-4",children:(0,I.jsxs)("div",{className:"flex",children:[(0,I.jsx)(q,{disableTokenSelect:"buy"===(null===l||void 0===l?void 0:l.side),getValues:d,control:s,modalId:ht,name:"toTokenAddress"}),(0,I.jsx)("span",{className:"h-10 flex-1 text-right",children:f&&(0,I.jsx)(R.Z,{className:"outline-none disabled:!text-white",decimals:f.decimals,onChange:function(){},value:K.floatValue,disabled:!0})})]})})]}),"minimum-output"!==y.mode||K.floatValue?(0,I.jsx)(dt,{loading:o,control:s,error:b,moreErrors:{notTradableYet:h},simulationButtonText:w}):(0,I.jsx)("div",{className:(0,me.cn)("relative mt-3"),children:(0,I.jsx)(O.Z,{disabled:!0,loading:x,type:"submit",className:(0,me.cn)("relative w-full border border-transparent bg-[#121D28] !transition-none",x?(0,me.cn)("bg-[#0f2d3d] transition-all duration-200 [&>div]:!text-labs"):""),children:c.ag._({id:"2T1hut"})})})]})]})},jt=n(18849),bt=n(795).Buffer;bt.from([229,23,203,151,122,227,173,42]),bt.from([193,32,155,51,65,214,156,129]),bt.from([208,51,239,151,123,43,237,92]),bt.from([176,209,105,168,154,125,69,62]);function wt(e,t,n){return yt.apply(this,arguments)}function yt(){return yt=(0,r.Z)(l().mark((function e(t,n,o){var i,s=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>3&&void 0!==s[3]?s[3]:4,e.abrupt("return",new Promise(function(){var e=(0,r.Z)(l().mark((function e(r){var s,a,u,c,d,m,p,f,h,g;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=null,a=null,setTimeout((function(){r({simulatedIncurredSlippage:s,simulatedResponse:a})}),1e4);case 3:if(!(i>=0)){e.next=36;break}if(e.prev=4,"swapTransaction"in n){e.next=7;break}return e.abrupt("return");case 7:if(c=void 0,!(n.swapTransaction instanceof x.VersionedTransaction)){e.next=12;break}c=n.swapTransaction,e.next=16;break;case 12:if(n.swapTransaction.feePayer){e.next=14;break}throw new Error("No fee payer found");case 14:d=new x.TransactionMessage({payerKey:n.swapTransaction.feePayer,recentBlockhash:n.blockhash,instructions:n.swapTransaction.instructions}).compileToV0Message(),c=new x.VersionedTransaction(d);case 16:return e.next=18,t.simulateTransaction(c,{replaceRecentBlockhash:!0,commitment:"processed",innerInstructions:!0});case 18:if(m=e.sent,p=null===(u=m.value.logs)||void 0===u?void 0:u.reverse().find((function(e){return e.startsWith("Program return: JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4")})),f=(null===p||void 0===p?void 0:p.split(" ").reverse()[0])||"",h=jt.base64.decode(f),g=h.readBigInt64LE()){e.next=26;break}return i--,e.abrupt("continue",3);case 26:return s="ExactIn"===o.quoteResponse.swapMode?new v.Z(g.toString()).div(o.quoteResponse.outAmount.toString()).minus(1).mul(-1e4):new v.Z(o.quoteResponse.inAmount.toString()).div(g.toString()).minus(1).mul(-1e4),a=m,e.abrupt("break",36);case 31:e.prev=31,e.t0=e.catch(4),i--;case 34:e.next=3;break;case 36:r({simulatedIncurredSlippage:s,simulatedResponse:a});case 37:case"end":return e.stop()}}),e,null,[[4,31]])})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)}))),yt.apply(this,arguments)}var kt=n(11805);function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tt=Fe()((function(){return n.e(75868).then(n.bind(n,75868))}),{ssr:!1,loadableGenerated:{webpack:function(){return[75868]}}}),Ct=Fe()((function(){return Promise.resolve().then(n.bind(n,89881))}),{ssr:!1,loadableGenerated:{webpack:function(){return[89881]}}}),Pt=Fe()((function(){return n.e(20278).then(n.bind(n,20278))}),{ssr:!1,loadableGenerated:{webpack:function(){return[20278]}}}),Ot="PAIRS_SELECT_TO_PAIR_MODAL_ID";function Mt(e){return e.map((function(e){return St(St({},e),{},{data:Object.keys(e.data).reduce((function(t,n){var r;return e.data&&null!==(r=e.data[n])&&void 0!==r&&r.toString?t[n]=e.data[n].toString():t[n]=e.data,t}),{})})}))}var Zt=function(){return(0,I.jsx)(O.Z,{size:"xs",type:"button",className:"mt-4",onClick:function(){var e;null===(e=document.getElementById("swap-settings-button"))||void 0===e||e.click()},children:c.ag._({id:"G2/8Wt"})})},Rt=function(e){var t=e.inToken,n=e.outToken,s=e.type,a=(0,p.Os)().wallet,h=(0,p.jB)(),O=h.useWSol,M=h.asLegacyTransaction,Z=(0,Be.NL)(),R=(0,p.y6)(),E=R.tokenPriceMap,L=R.getUSDValue,F=j.useMemo((function(){return"launch-page"===(null===s||void 0===s?void 0:s.mode)}),[null===s||void 0===s?void 0:s.mode]),K=j.useRef(null),z=(0,tt.Z)().refetch,U=(0,p.C9)(),G=(0,N.T)(),W=(0,p.W2)(),Q=(0,b.cI)({defaultValues:{fromTokenAddress:"",toTokenAddress:"",toastId:j.useMemo((function(){return(0,We.w)()}),[])},mode:"all",criteriaMode:"all"}),Y=Q.handleSubmit,J=Q.setValue,X=Q.reset,$=Q.control,ee=Q.formState,te=ee.isSubmitting,ne=ee.dirtyFields,re=ee.isDirty,oe=Q.getValues,ie=(0,_.JT)().openModal,se=(0,p.Bn)(),ae=se.getTokenInfo,le=se.newTokenListMap,ue=se.connection,ce=(0,b.qo)({control:$}),de=ce.fromTokenAddress,me=ce.fromValue,pe=ce.toValue,fe=ce.toTokenAddress,xe=(0,p.mQ)(),ve=xe.slippage,he=xe.slippageSettings,ge=xe.setSlippageSettings,je=(0,w.Z)(T.J,null),be=(0,i.Z)(je,2),we=(be[0],be[1]),ye=(0,Ne.gs)(),ke=ye.userMaxFeeInSOL,Se=ye.isRequestingMaxFee,Te=ye.priorityLevel,Oe=ye.broadcastMode,Me=ye.isFeeDynamic,_e=ye.userMaxFeeInLamports,Fe=(0,et.EG)().profile,ot=j.useMemo((function(){return{fromTokenInfo:ae(de),toTokenInfo:ae(fe)}}),[ae,de,fe]),it=ot.fromTokenInfo,st=ot.toTokenInfo;j.useEffect((function(){var e=[];t&&(e.push(t.address),J("fromTokenAddress",t.address)),n&&(e.push(n.address),J("toTokenAddress",n.address)),L(e)}),[J,L,t,n]);var at=j.useRef(!1),lt=j.useMemo((function(){return!1===at.current?it&&null!==me&&void 0!==me&&me.value?g().BigInt(new v.Z(me.value).mul(Math.pow(10,it.decimals)).floor().toFixed()):g().BigInt(0):st&&null!==pe&&void 0!==pe&&pe.value?g().BigInt(new v.Z(pe.value).mul(Math.pow(10,st.decimals)).floor().toFixed()):g().BigInt(0)}),[it,null===me||void 0===me?void 0:me.value,st,null===pe||void 0===pe?void 0:pe.value]),ut=at.current?Ie.jr.ExactOut:Ie.jr.ExactIn,ct=j.useMemo((function(){if(ut!==Ie.jr.ExactOut)return M?void 0:64}),[ut,M]),mt=(0,p.jB)(),pt=j.useMemo((function(){return St(St({amount:lt,inputMint:de?new x.PublicKey(de):void 0,outputMint:fe?new x.PublicKey(fe):void 0,maxAccounts:ct,swapMode:ut},"minimum-output"===he.mode?{slippageBps:0}:"dynamic"===he.mode?{slippageBps:Math.ceil(100*Number(he.maxDynamicSlippagePct))}:"fixed"===he.mode?{slippageBps:Math.ceil(100*Number(ve)),computeAutoSlippage:!0}:void 0),{},{minimizeSlippage:Boolean("true"===kt.env.NEXT_PUBLIC_IS_EDGE)})}),[lt,de,ct,ve,he,ut,fe]),ft=(0,d.OO)(pt),xt=ft.quoteResponseMeta,vt=ft.loading,ht=ft.refresh,jt=ft.fetchSwapTransaction,bt=ft.lastRefreshTimestamp,yt=ft.programIdToLabelMap,Nt=ft.programIdsExcluded,Rt=ft.setProgramIdsExcluded,It=ft.error,Vt=(0,ze.m)().data,At=(0,Le.KO)(Ge.quotedSlippage),Dt=(0,i.Z)(At,2),Et=Dt[0],Bt=Dt[1];j.useEffect((function(){null!==xt&&void 0!==xt&&xt.quoteResponse.slippageBps?Bt(null===xt||void 0===xt?void 0:xt.quoteResponse.slippageBps):Bt(void 0)}),[Et,null===xt||void 0===xt?void 0:xt.quoteResponse.slippageBps,Bt,ve]);var Lt=(0,Le.KO)(Ue.j.amms),_t=(0,i.Z)(Lt,2)[1];j.useEffect((function(){if(yt&&yt.size>0){var e=(null===Vt||void 0===Vt?void 0:Vt.swapSettings.excludedAmms)||[],t=(0,o.Z)(yt.entries()).filter((function(t){var n=(0,i.Z)(t,1)[0];return!e.some((function(e){return e===n}))})).map((function(e){var t=(0,i.Z)(e,2),n=t[0];return{label:t[1],ammProgramId:n}}));_t(t)}}),[yt,_t,null===Vt||void 0===Vt?void 0:Vt.swapSettings]);var Ft=(0,Le.KO)(Ue.j.userExcludedAmms),qt=(0,i.Z)(Ft,2),Kt=qt[0],zt=qt[1];j.useEffect((function(){var e;Rt(new Set([].concat((0,o.Z)((null===Vt||void 0===Vt||null===(e=Vt.swapSettings)||void 0===e?void 0:e.excludedAmms)||[]),(0,o.Z)(Kt.map((function(e){return e.ammProgramId}))))))}),[Kt,Vt,Rt]),j.useEffect((function(){if(J("selectedRoute",xt),xt){if(K.current=Date.now(),!st)return;if(!1===at.current){var e=new v.Z(xt.quoteResponse.outAmount.toString()||"0").div(Math.pow(10,st.decimals)),t=e.toFixed()||"",n=e?e.toNumber():e;J("toValue",{formattedValue:t,value:t,floatValue:n})}else{if(!it)return;var r=new v.Z(xt.quoteResponse.inAmount.toString()||"0").div(Math.pow(10,it.decimals)),o=r.toFixed()||"",i=r?r.toNumber():r;J("fromValue",{formattedValue:o,value:o,floatValue:i})}}else J(!1===at.current?"toValue":"fromValue",void 0)}),[xt,st,J,it]),(0,H.Gl)(vt||null===xt||void 0===xt?void 0:xt.quoteResponse,de,fe),j.useEffect((function(){vt&&J(!1===at.current?"toValue":"fromValue",{formattedValue:"",value:"",floatValue:0})}),[vt,J]);var Ut=(0,Ke.R3)(),Gt=(0,Le.KO)(De.yz),Ht=(0,i.Z)(Gt,1)[0],Wt=j.useState(),Qt=(0,i.Z)(Wt,2),Yt=Qt[0],Jt=Qt[1],Xt=(0,f.lm)().toast,$t=j.useCallback(function(){var e=(0,r.Z)(l().mark((function e(t){var n,s,u,f,x,h,g,j,b,w,y,N,S,T,C,R,V,A,B,L,_,F,q,G,H,Q,Y,X,$,ee,te,ne,re;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=t.selectedRoute,f=t.fromTokenAddress,x=t.toTokenAddress,h=t.toastId,g=t.minimumOutput,a&&a.adapter.publicKey&&u&&f&&x){e.next=3;break}return e.abrupt("return");case 3:if(null===W||void 0===W||W.persistReferrer(),j={startTime:void 0},b=Date.now(),w=u,y=(null===(n=E[f||""])||void 0===n?void 0:n.usd)||0,N=new v.Z((null===me||void 0===me?void 0:me.value)||0).mul(y).toString(),S=(null===(s=E[Ee.Gd.toBase58()])||void 0===s?void 0:s.usd)||0,T=new v.Z(N),C=Me&&S&&T.gte(100)?v.Z.min(T.div(S).mul(.005),new v.Z(10).div(S)).toDecimalPlaces(9).toNumber():void 0,R=function(){if(C)return C*Math.pow(10,9)}(),V={quoteResponseMeta:w.original,wallet:a.adapter.name,inputAmountInUSD:N,ammLabels:(0,o.Z)((0,Pe.Kc)(w.quoteResponse.routePlan).labels),excludedAmms:Array.from(Nt),slippageSettings:he,jupiterParams:(0,Je.w_)(pt),jupiterConfigProps:(0,Je.w_)({restrictIntermediateTokens:mt.restrictIntermediateTokens,onlyDirectRoutes:mt.onlyDirectRoutes,useWSol:mt.useWSol,asLegacyTransaction:mt.asLegacyTransaction}),globalPriority:{prioritizationFee:C||ke,prioritizationFeeLamports:R||_e,isRequestingMaxFee:Se,priorityLevel:Te,broadcastMode:Oe},profileMode:Fe,quoteTimestamp:K.current},(0,He.Kz)(qe.NR,St(St({},V),{},{deltaFromQuoteMs:Date.now()-bt})),A=ae(f),B=ae(x),L=function(e){var t=e.txid,n=e.inputMint,r=e.outputMint,o=e.transactionResponse,s=e.jitoResponse,l=e.jitoTipAmount;try{var c,d=(0,Ie.Od)({txid:t,inputMint:n,outputMint:r,hasWrappedSOL:O,transactionResponse:o,user:a.adapter.publicKey}),m=(0,i.Z)(d,2),p=m[0],f=m[1],x=A.symbol,h=P.uf.format(new v.Z(p).div(Math.pow(10,A.decimals))),g=B.symbol,j=P.uf.format(new v.Z(f).div(Math.pow(10,B.decimals))),b=f?new v.Z(f).div(u.quoteResponse.outAmount.toString()).minus(1).mul(-1e4).toNumber():null,w=b?new v.Z(b).div(100).toFixed(2):null,y=!(null===s||void 0===s||!s.result)||void 0,k=y&&l?(0,D.lt)(l,9):null!==(c=o.meta)&&void 0!==c&&c.fee?(0,D.lt)(o.meta.fee,9):void 0;return{sourceTokenBalanceChange:p,destinationTokenBalanceChange:f,inputSymbol:x,inputAmount:h,outputSymbol:g,outputAmount:j,incurredSlippageBps:b,incurredSlippagePct:w,feeInSOL:k,jitoLanded:y}}catch(N){return null}},_=[],Jt(c.ag._({id:"QPASEU"})),q=function(){var e=(0,r.Z)(l().mark((function e(t){var n,r,s,a,g;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=w.quoteResponse,r=n.inputMint,s=n.outputMint,!("error"in t)){e.next=5;break}console.error("Error in swapTransactionResponse",t.error),e.next=9;break;case 5:return e.next=7,Ut(t.swapTransaction,{blockhash:t.blockhash,idl:Ie.GS,idlProgramId:d.Cc,lastValidBlockHeight:t.lastValidBlockHeight,skipPreflight:!0},{isSwapTransaction:!0,dynamicFeeMaxCap:R,referenceFee:function(){var e=(0,m.eD)(t.swapTransaction);return e?Number(e):"MEDIUM"===Te?Ht.jup2.m:"HIGH"===Te?Ht.jup2.h:"VERY_HIGH"===Te?Ht.jup2.vh:void 0}(),minimumFee:De.uo,toastId:h,submittingMessage:null,onSending:function(){j.startTime=Date.now(),Jt(void 0)},autoResolveOnProcessed:!0,resolveSuccessTitleAndDescription:function(e,n,o,i){var a;_=(0,Ie.vw)(e);var l=L({txid:n,inputMint:r,outputMint:s,transactionResponse:e,jitoResponse:o,jitoTipAmount:i}),u=c.ag._({id:"Cleqqa"});l&&(u=c.ag._({id:"amwDxk",values:{0:l.inputAmount,1:l.inputSymbol,2:l.outputAmount,3:l.outputSymbol}}));var d,m=St(St({},V),{},{feeInSOL:null===l||void 0===l?void 0:l.feeInSOL,txid:n,sourceTokenBalanceChange:null===l||void 0===l?void 0:l.sourceTokenBalanceChange,destinationTokenBalanceChange:null===l||void 0===l?void 0:l.destinationTokenBalanceChange,incurredSlippage:null===l||void 0===l?void 0:l.incurredSlippageBps,events:Mt(_),computeUnitsConsumed:null===(a=e.meta)||void 0===a?void 0:a.computeUnitsConsumed,dynamicSlippageReport:t.dynamicSlippageReport,jitoLanded:null===l||void 0===l?void 0:l.jitoLanded});(j.startTime&&(0,He.Kz)(qe.o1,St(St({},m),{},{ping:(Date.now()-j.startTime)/1e3})),null!==W&&void 0!==W&&W.referrerAccount)&&(0,He.Kz)(qe.Yl,St(St({},m),{},{referrerAccount:W.referrerAccount.toString(),feeBps:null===(d=W.feeBps)||void 0===d?void 0:d.toString()}));return{title:"",description:u}},resolveErrorTitleAndDescription:function(e,n){var a=(0,Ie.IS)(e),l=a.message,u=a.code,m=a.programIds,f=a.txid,x=f&&null!==n&&void 0!==n&&n.transactionResponse?(_=(0,Ie.vw)(n.transactionResponse),L({txid:f,inputMint:r,outputMint:s,transactionResponse:n.transactionResponse})):null,h=function(){var e,t=(null===m||void 0===m?void 0:m.reduce((function(e,t){var n=yt.get(t);return n?[n,t]:e}),["",""]))||["",""],n=(0,i.Z)(t,2),r=n[0],s=n[1],a=u&&(null===(e={LBUZKhRxPF3XUpBCjp4YzTKgLccjZhTSDM9YuVaPwxo:[6001,3005],CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK:[6019],whirLbMiicVdio4qvUfM5KAg6Ct8VwpYzGff3uctyCc:[6023]}[s])||void 0===e?void 0:e.includes(u));if(r&&!a)return ie((0,I.jsx)(nt,{ammName:r,excludeAmm:function(){Rt((function(e){var t=Kt.map((function(e){return e.ammProgramId}));return M?new Set([].concat((0,o.Z)(t),[s])):(e.add(s),new Set([].concat((0,o.Z)(t),(0,o.Z)(e))))}))}}),{noCloseButton:!1}),{title:c.ag._({id:"A5SJF8",values:{faultyAmmLabel:r}}),description:u?c.ag._({id:"r3e05H",values:{code:u}}):l,shouldShowFeedbackLink:!0};var f=d.Cc.toBase58(),h=d.sv;if(null!==m&&void 0!==m&&m.some((function(e){return e===f}))||a){if(u===d.sv.SlippageToleranceExceeded.code||a){var g=function(){var e,t,n=F&&"dynamicSlippageReport"in F&&null!==(e=F.dynamicSlippageReport)&&void 0!==e&&e.slippageBps?new v.Z(null===(t=F.dynamicSlippageReport)||void 0===t?void 0:t.slippageBps).div(100):null,r=null!==x&&void 0!==x&&x.incurredSlippagePct?Number(null===x||void 0===x?void 0:x.incurredSlippagePct):null;return r?"fixed"===he.mode?{title:c.ag._({id:"Ql8gPs"}),description:(0,I.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,I.jsx)("p",{children:c.ag._({id:"A4rcdv",values:{incurredSlippagePct:r}})}),(0,I.jsx)("p",{children:c.ag._({id:"XU0vnD"})})]})}:"minimum-output"===he.mode?{title:c.ag._({id:"IZu71w"}),description:(0,I.jsx)("div",{className:"flex flex-col gap-y-2",children:(0,I.jsx)("p",{children:c.ag._({id:"awrHjc"})})})}:r>=p.oo?{title:c.ag._({id:"Tfrtw5"}),description:(0,I.jsxs)("div",{className:"mb-4 flex flex-col gap-y-2",children:[(0,I.jsx)("p",{children:c.ag._({id:"vLN4hr",values:{incurredSlippagePct:r}})}),(0,I.jsx)("p",{children:c.ag._({id:"2NrJLl"})}),(0,I.jsx)(Zt,{})]})}:r<he.maxDynamicSlippagePct?{title:c.ag._({id:"Ql8gPs"}),description:n?(0,I.jsx)("div",{className:"flex flex-col gap-y-2",children:(0,I.jsx)("p",{children:"The final slippage was ".concat(r,"% and it has exceeded the optimized slippage at ").concat(n,"%.")})}):(0,I.jsx)("div",{className:"flex flex-col gap-y-2",children:(0,I.jsx)("p",{children:"The final slippage was ".concat(r,".")})})}:r>he.maxDynamicSlippagePct?{title:c.ag._({id:"4UCKKK"}),description:(0,I.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,I.jsx)("p",{children:c.ag._({id:"ybpHil",values:{incurredSlippagePct:r}})}),(0,I.jsx)("p",{children:c.ag._({id:"r14tPR"})}),(0,I.jsx)(Zt,{})]})}:((0,He.Kz)(qe.A$,St(St({},V),{},{incurredSlippagePct:r,dynamicSlippageSubmittedPct:n})),n?{title:c.ag._({id:"Ql8gPs"}),description:c.ag._({id:"xKXM1M",values:{incurredSlippagePct:r,dynamicSlippageSubmittedPct:n}})}:{title:c.ag._({id:"Ql8gPs"}),description:c.ag._({id:"7b18nw",values:{incurredSlippagePct:r}})}):{title:c.ag._({id:"IZu71w"}),description:c.ag._({id:"9l/HZb"})}}();return{title:g.title,description:g.description,shouldShowFeedbackLink:!1}}if(u===h.BalancesNotExtractedProperly.code)return{title:c.ag._({id:"KEtDKy"}),shouldShowFeedbackLink:!0};if(u===h.TransactionNotConfirmed.code)return{title:c.ag._({id:"XLzgMr"}),description:c.ag._({id:"fnUfx2"}),shouldShowFeedbackLink:!1,shouldShowUpdatePriorityFee:!1};if(u===h.TransactionExpiredBlockheightExceeded.code)return{title:c.ag._({id:"HxpEyw"}),description:c.ag._({id:"jsGkrq"}),shouldShowFeedbackLink:!0}}switch(u){case h.InsufficientSOL.code:return{title:c.ag._({id:"GyFBKR"}),description:c.ag._({id:"Qfmu8/"}),shouldShowFeedbackLink:!0};case h.FrozenAccount.code:return{title:c.ag._({id:"MDUjKS"}),description:c.ag._({id:"Xl2KCt"}),shouldShowFeedbackLink:!0}}return{title:l||(null===u||void 0===u?void 0:u.toString())||"",description:u?c.ag._({id:"r3e05H",values:{code:u}}):l,shouldShowFeedbackLink:!0}}();return(0,He.Kz)(qe.xp,St(St(St(St({txid:f,code:u,message:l,programIds:m},V),h),{},{sourceTokenBalanceChange:null===x||void 0===x?void 0:x.sourceTokenBalanceChange,destinationTokenBalanceChange:null===x||void 0===x?void 0:x.destinationTokenBalanceChange,incurredSlippage:null===x||void 0===x?void 0:x.incurredSlippageBps,events:Mt(_)},j.startTime?{pingInSecond:(Date.now()-j.startTime)/1e3}:void 0),{},{feeInSOL:null===x||void 0===x?void 0:x.feeInSOL,dynamicSlippageReport:t.dynamicSlippageReport})),h}});case 7:(a=e.sent).success?(we({fromPair:A.address,toPair:B.address}),Z.invalidateQueries({queryKey:[p.gj]})):"error"in a&&a.error&&4001===(null===(g=a.error.error)||void 0===g?void 0:g.code)&&wt(ue,t,u,0).then((function(e){var n=e.simulatedIncurredSlippage,r=e.simulatedResponse,o=(0,Ie.i9)((null===r||void 0===r?void 0:r.value.innerInstructions)||[]),i=null;null!==r&&void 0!==r&&r.value.err&&(i=(0,m.nR)({err:r.value.err,logMessages:(null===r||void 0===r?void 0:r.value.logs)||[]})),(0,He.Kz)(qe.Nc,St(St({rejectedSimulationError:i,events:Mt(o),error:a.error.error},V),{},{pingInSecond:(Date.now()-b)/1e3,rejectedSimulationSlippage:null===n||void 0===n?void 0:n.toNumber(),quoteContextSlot:w.quoteResponse.contextSlot,rejectedSimulationSlot:null===r||void 0===r?void 0:r.context.slot,dynamicSlippageReport:t.dynamicSlippageReport}))})).catch((function(){}));case 9:z(),U([f,x,k.W4]),ht();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prev=21,G=null===a||void 0===a?void 0:a.adapter.publicKey){e.next=25;break}return e.abrupt("return");case 25:if(H={quoteResponseMeta:w,userPublicKey:G,wrapUnwrapSOL:!O,allowOptimizedWrappedSolTokenAccount:!0,prioritizationFeeLamports:{priorityLevelWithMaxLamports:{maxLamports:_e,global:!1,priorityLevel:function(){switch(Te){case"MEDIUM":return"medium";case"HIGH":return"high";case"VERY_HIGH":return"veryHigh"}}()}}},"fixed"!==he.mode){e.next=32;break}return e.next=29,jt(H);case 29:F=e.sent,e.next=55;break;case 32:if("minimum-output"!==he.mode||!g){e.next=40;break}return w.quoteResponse.outAmount=g,w.original.outAmount=g.toString(),e.next=37,jt(H);case 37:F=e.sent,e.next=55;break;case 40:if("dynamic"!==he.mode){e.next=55;break}return H.dynamicSlippage="dynamic"===he.mode?{maxBps:Math.round(100*he.maxDynamicSlippagePct)}:void 0,e.next=44,jt(H);case 44:if("swapTransaction"in(F=e.sent)){e.next=47;break}throw new Error("No swapTransaction in swapTransactionResponseToUse");case 47:if(X=new v.Z((null===(Q=F.dynamicSlippageReport)||void 0===Q?void 0:Q.simulatedIncurredSlippageBps)||0),Boolean(X&&new v.Z(-1*he.maxDynamicSlippagePct*100).gte(X))&&($=function(){var e=new v.Z(X).mul(-1).div(100).toNumber();return he.maxDynamicSlippagePct<p.oo?{title:c.ag._({id:"SaPP8z"}),description:(0,I.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,I.jsx)("p",{children:c.ag._({id:"9Ja0ta",values:{simulatedIncurredSlippagePct:e}})}),(0,I.jsx)("p",{children:c.ag._({id:"bjQCJE"})}),(0,I.jsx)(Zt,{})]})}:{title:c.ag._({id:"cFP4Ga"}),description:(0,I.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,I.jsx)("p",{children:c.ag._({id:"fFgRd0",values:{simulatedIncurredSlippagePct:e}})}),(0,I.jsx)("p",{children:c.ag._({id:"2NrJLl"})}),(0,I.jsx)(Zt,{})]})}}(),ee=$.title,te=$.description,Xt({title:ee,description:te,variant:Ye.Lb.INFO,duration:1e4})),ne=null===(Y=F.dynamicSlippageReport)||void 0===Y?void 0:Y.slippageBps){e.next=53;break}throw new Error("Could not optimise slippage");case 53:re=new v.Z(ne).div(100).toNumber(),Jt((0,I.jsxs)("div",{children:[c.ag._({id:"2JmVX8"})," ",re,"%"]}));case 55:e.next=60;break;case 57:e.prev=57,e.t0=e.catch(21),console.log("Error getting swap transaction",e.t0);case 60:if(e.prev=60,F){e.next=63;break}throw new Error("No swapTransactionResponseToUse");case 63:return e.next=65,q(F);case 65:e.next=70;break;case 67:e.prev=67,e.t1=e.catch(60),console.log("Error performing swap",e.t1);case 70:return e.prev=70,J("toastId",(0,We.w)()),Jt(void 0),e.finish(70);case 74:case"end":return e.stop()}}),e,null,[[21,57],[60,67,70,74]])})));return function(t){return e.apply(this,arguments)}}(),[Me,M,ue,Kt,Ut,jt,null===me||void 0===me?void 0:me.value,ae,Oe,Se,ke,_e,Te,mt,pt,ie,yt,Nt,Z,Ht.jup2.h,Ht.jup2.m,Ht.jup2.vh,W,U,ht,z,we,Rt,J,he,Xt,E,O,a,bt,Fe]),en=(0,T.V)();(0,y.Z)((function(){en[0]&&en[1]&&(it&&it.address!==en[0].address&&J("fromTokenAddress",en[0].address),st&&st.address!==en[1].address&&J("toTokenAddress",en[1].address))}),en);var tn=(0,S.Z)();j.useEffect((function(){tn&&J("fromValue",{formattedValue:tn,value:tn,floatValue:Number(tn)})}),[J,tn]);var nn=j.useRef("");j.useEffect((function(){((!1===at.current?ne.fromValue:ne.toValue)||ne.toTokenAddress||ne.fromTokenAddress)&&(nn.current="")}),[ne.fromValue,ne.toTokenAddress,ne.fromTokenAddress,ne.toValue]);var rn=j.useCallback((function(){if(!vt&&st&&it){var e=oe(),t=e.fromTokenAddress,n=e.toTokenAddress,r=e.fromValue,o=e.toValue,i=nn.current;!nn.current&&Number((null===r||void 0===r?void 0:r.floatValue)||0)>0&&null!==xt&&void 0!==xt&&xt.quoteResponse&&(i=!1===at.current?new v.Z(xt.quoteResponse.outAmount.toString()).div(Math.pow(10,st.decimals)).toString():new v.Z(xt.quoteResponse.inAmount.toString()).div(Math.pow(10,it.decimals)).toString()),X(St({fromTokenAddress:t,toTokenAddress:n},!1===at.current?{fromValue:{value:i,floatValue:Number(i),formattedValue:i}}:{toValue:{value:i,floatValue:Number(i),formattedValue:i}})),setTimeout((function(){nn.current=!1===at.current?(null===r||void 0===r?void 0:r.value)||"":(null===o||void 0===o?void 0:o.value)||""}),0),G(st,it)}}),[vt,st,it,null===xt||void 0===xt?void 0:xt.quoteResponse,G,oe,X]),on=(0,p.FB)(de,void 0,O).balance,sn=j.useCallback((function(){var e=new v.Z(on);de===k.W4.toBase58()&&(e=e.minus(Ae.WO)),J("fromValue",{floatValue:e.toNumber(),formattedValue:e.toString(),value:e.toString()})}),[on,de,J]),an=(0,Le.KO)(B.dS),ln=(0,i.Z)(an,1)[0].TARGET_MINT,un=(0,b.qo)({control:$,name:"selectedRoute"}),cn=(0,Qe.QX)({disabled:!F}).claimTimes,dn=j.useMemo((function(){var e=null===un||void 0===un?void 0:un.quoteResponse.contextSlot;return!(e||!le.has(de)&&!le.has(fe))||(fe===ln&&e&&cn?e<(null===cn||void 0===cn?void 0:cn.enableSlot):void 0)}),[ln,null===un||void 0===un?void 0:un.quoteResponse.contextSlot,fe,cn,de,le]),mn=j.useRef(null),pn=(0,$e.Q)({fromTokenInfo:it,toTokenInfo:st,quoteResponse:null===un||void 0===un?void 0:un.quoteResponse,isLaunchPage:F});j.useEffect((function(){F||"minimum-output"===he.mode&&ge(p.NH)}),[F,ge,he.mode]);var fn=j.useCallback((function(e){e.stopPropagation(),zt([]),ht()}),[ht,zt]);return j.useMemo((function(){var e;return F?(0,I.jsx)(gt,{onSubmit:function(e){return Y((function(t){return $t(St(St({},t),e))}))()},refresh:ht,loading:vt,onClickMax:sn,control:$,setValue:J,type:s,getValues:oe,fromTokenInfo:it,toTokenInfo:st,isSubmitting:te,notTradableYet:dn,error:It,simulationButtonText:Yt}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:"mb-2 flex justify-end",children:(0,I.jsx)(Pt,{refresh:ht,loading:vt})}),(0,I.jsx)(Tt,{}),(0,I.jsx)("div",{children:(0,I.jsxs)("form",{onSubmit:Y($t),children:[(0,I.jsxs)("div",{className:"relative flex-col",children:[(0,I.jsxs)("div",{className:(0,C.cn)("relative flex min-h-[124px] flex-col space-y-3 rounded-xl border border-transparent p-4","focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark",!1===at.current?"bg-uiv2":"bg-uiv2-background"),children:[(0,I.jsxs)("div",{className:"flex items-center justify-between",children:[(0,I.jsx)("span",{className:"text-sm font-medium text-v2-lily",children:(0,I.jsx)(u.cC,{id:"HVPy4o"})}),(0,I.jsxs)("div",{className:"flex space-x-2",children:[(0,I.jsx)(Ze,{control:$,name:"fromTokenAddress",useWSol:O}),(0,I.jsx)(Ve.oi,{mint:de,disabled:te,onBalanceChange:function(e){at.current=!1,J("fromValue",{floatValue:e.toNumber(),formattedValue:e.toString(),value:e.toString()})}})]})]}),(0,I.jsxs)("div",{ref:mn,className:"flex flex-1 items-center space-x-2",children:[(0,I.jsx)(q,{getValues:oe,disableTokenSelect:te,control:$,modalId:Ot,name:"fromTokenAddress"}),(0,I.jsx)("span",{className:"flex-1 text-right",children:(0,I.jsx)(V,{control:$,disabled:te,name:"fromValue",priceType:"sell",loading:!!at.current&&vt,onKeyDown:function(){at.current=!1},placeholder:re?ut===Ie.jr.ExactIn?"0.00":"":"0.00",tokenAmountClassname:"font-semibold text-v2-lily",usdValueClassname:"!text-xs font-normal text-v2-lily/50"})})]})]}),it&&(0,I.jsx)(Ct,{tokenInfo:it}),(0,I.jsxs)("div",{className:"relative my-1 flex justify-center",children:[(0,I.jsx)("hr",{className:"absolute top-[calc(50%-1px)] -z-0 w-full border-uiv2/50"}),(0,I.jsx)("div",{className:"z-10 inline-block",children:(0,I.jsx)("button",{type:"button",disabled:te,className:(0,C.cn)("group/flip flex h-8 w-8 cursor-pointer flex-col justify-center rounded-full border-[3px] border-uiv2 bg-v2-background-page text-v2-lily/50","hover:border-v2-primary hover:shadow-swap-input-dark disabled:pointer-events-none"),onClick:rn,children:(0,I.jsx)("span",{className:"flex w-full justify-center fill-current text-v2-lily/50 transition-none group-hover/flip:text-v2-primary",children:(0,I.jsx)(Re.Z,{})})})})]}),(0,I.jsxs)("div",{className:(0,C.cn)("relative min-h-[124px]","group flex flex-col space-y-3 rounded-xl border border-transparent p-4","focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark","hover:bg-v2-background-dark",!0===at.current?"bg-uiv2":"bg-uiv2-background"),children:[(0,I.jsxs)("div",{className:"flex items-center justify-between",children:[(0,I.jsx)("span",{className:"text-sm font-medium text-v2-lily",children:(0,I.jsx)(u.cC,{id:"f6aTaB"})}),(0,I.jsx)(Ze,{control:$,name:"toTokenAddress",useWSol:O})]}),(0,I.jsxs)("div",{className:"flex flex-1 items-center space-x-2",children:[(0,I.jsx)(q,{getValues:oe,disableTokenSelect:te,control:$,modalId:Ot,name:"toTokenAddress"}),(0,I.jsx)("span",{className:"flex-1 text-right",children:(0,I.jsx)(V,{control:$,disabled:te,name:"toValue",priceType:"buy",loading:!at.current&&vt,onKeyDown:function(e){e.metaKey||e.ctrlKey||"Meta"===e.key||"Control"===e.key||"Alt"===e.key||"Shift"===e.key||(at.current=!0)},onPaste:function(){at.current=!0},placeholder:re?ut===Ie.jr.ExactOut?"0.00":"":"0.00",tokenAmountClassname:"font-semibold text-v2-lily",usdValueClassname:"!text-xs font-normal text-v2-lily/25"})})]})]}),st&&(0,I.jsx)(Ct,{tokenInfo:st})]}),(0,I.jsx)("div",{className:"mt-2 flex gap-x-1",children:(0,I.jsx)(Pe.ZP,{loading:vt,control:$})}),at.current&&(0,I.jsx)(rt,{}),(0,I.jsx)(Xe.Z,{loading:vt,listOfSuggestions:pn}),(0,I.jsx)(dt,{simulationButtonText:Yt,loading:vt,control:$,error:It,moreErrors:{notTradableYet:dn}}),Kt.length>0&&Nt.size>0&&(0,I.jsxs)("div",{className:(0,C.cn)("flex gap-x-1 text-xs text-v2-lily/50",!mt.onlyDirectRoutes&&"mt-2"),children:[(0,I.jsx)("div",{children:c.ag._({id:"880KXG",values:{0:Kt.length}})}),(0,I.jsx)("button",{type:"button",className:"underline",onClick:fn,children:"Clear all"})]})]})}),(0,I.jsx)(Ce,{loading:vt,control:$,intervalRefresher:(0,I.jsx)(A.Z,{value:null===(e=oe().fromValue)||void 0===e?void 0:e.floatValue,isSubmitting:te,lastRefreshTimestamp:bt,refresh:ht})})]})}),[$,It,Kt.length,de,it,oe,Y,re,F,te,bt,pn,vt,dn,sn,rn,$t,Nt.size,ht,fn,J,Yt,ut,st,s,O,mt])}},96065:function(e,t,n){n(93981);var r=n(29541);t.Z=function(e){var t=e.className;return(0,r.jsx)("svg",{className:t,width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M4.10201 1.28172L8.80544 5.75191C8.94178 5.88275 8.94178 6.1008 8.80544 6.23164L4.10201 10.7018C3.96568 10.8327 3.73846 10.8327 3.60213 10.7018L3.10225 10.2221C2.96592 10.0913 2.96592 9.87321 3.10225 9.74237L6.80592 6.23164C6.94225 6.1008 6.94225 5.88275 6.80592 5.75191L3.12497 2.24118C2.98864 2.11034 2.98864 1.89229 3.12497 1.76145L3.62485 1.28172C3.76118 1.17269 3.96568 1.17269 4.10201 1.28172Z",fill:"currentColor"})})}},70602:function(e,t,n){n(93981);var r=n(29541);t.Z=function(e){var t=e.className;return(0,r.jsx)("svg",{className:t,width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M4.11894 6.99859H6.79173C7.96242 6.99859 8.92699 6.04958 8.94255 4.89521C8.94255 3.72452 7.97798 2.79183 6.79173 2.79183L4.75212 2.79109C4.54675 2.33215 4.08781 2 3.5503 2C2.82298 2 2.23725 2.60129 2.23725 3.31305C2.23725 4.0248 2.83854 4.62609 3.5503 4.62609C4.10414 4.62609 4.56232 4.29394 4.75212 3.835H6.79248C7.40934 3.835 7.91573 4.34139 7.91573 4.91079C7.91573 5.4802 7.40934 5.98659 6.79248 5.98659H4.15083C2.98013 5.98659 2.01556 6.93559 2 8.08997C2 9.27622 2.96457 10.1933 4.15083 10.1933H6.34911C6.55447 10.6523 7.01341 11 7.55093 11C8.27825 11 8.86398 10.3987 8.86398 9.68695C8.86398 8.95964 8.26269 8.37391 7.55093 8.37391C6.99709 8.37391 6.53891 8.70606 6.34911 9.165L4.13527 9.16574C3.51841 9.16574 3.01202 8.65935 3.01202 8.08995C3.01202 7.50498 3.50209 7.01415 4.11894 6.99859Z",fill:"currentColor"})})}},42916:function(e,t,n){var r=n(63956),o=n(72215),i=n(45009),s=n(41144);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(){var e=(0,o.Os)().publicKey;return(0,i.a)(["transactions-".concat(null===e||void 0===e?void 0:e.toBase58())],(function(){return e?s.ZP.get("https://worker.jup.ag/swap-transactions/".concat(e.toBase58()),{headers:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}}).json().then((function(e){return e.swaps.map((function(e){return l(l({},e),{},{inputAmount:e.inputAmount.toString(),outputAmount:e.outputAmount.toString()})}))})):[]}),{enabled:!!e,refetchOnMount:!1,keepPreviousData:!0})}},81098:function(e,t,n){n.d(t,{j:function(){return o}});var r=n(9364),o={amms:(0,r.cn)([]),userExcludedAmms:(0,r.cn)([])}}}]);
//# sourceMappingURL=88016-bc64e9f36fb90a0d.js.map