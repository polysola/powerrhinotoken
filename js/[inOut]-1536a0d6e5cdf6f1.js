(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[61990,77829],{77829:function(t,e,n){"use strict";n.r(e);var r=n(63956),i=(n(93981),n(39268)),o=n.n(i),s=n(67768),a=n(29541);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var l=o()((function(){var t=!0,e=(0,s.EQ)(),r=e.iOS,i=e.version;return r&&i&&i<15&&(t=!1),t?Promise.all([n.e(11197),n.e(13215),n.e(97743),n.e(45942)]).then(n.bind(n,72383)):n.e(64205).then(n.bind(n,64205))}),{loading:function(){return(0,a.jsx)("p",{children:"Loading..."})},loadableGenerated:{webpack:function(){return[72383,64205]}}});e.default=function(t){return(0,a.jsx)(l,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t))}},81562:function(t,e,n){"use strict";n.d(e,{Z:function(){return v}});var r=n(97620),i=n(8473),o=n(7744),s=n(9319),a=n.n(s),u=n(93981),l=n(64138),c=n(45009),d=n(41144),f=function(t){return(0,c.a)(["transaction-detail-".concat(t)],(function(){return d.ZP.get("https://stats.jup.ag/transactions/".concat(t)).json()}))},m=n(77829),x=n(29541),p=a().BigInt(100),h=function(t){var e=t.swapData.map((function(t,e){var n=t.amm,r=t.inMint,i=t.outMint,s=t.inAmount,u=t.outAmount,l=new Uint8Array(32);return l[0]=e,{inputMint:r,outputMint:i,inAmount:a().BigInt(s),outAmount:a().BigInt(u),ammKey:new o.PublicKey(l),label:n,feeAmount:a().BigInt(0),feeMint:o.PublicKey.default}})),n=e.reduce((function(t,e){var n,r=e.inputMint,i=e.inAmount,o=null!==(n=t.get(r))&&void 0!==n?n:{inputAmount:a().BigInt(0),consumedPercents:0,splits:0,consumedAmount:a().BigInt(0)};return o.inputAmount=a().add(o.inputAmount,i),o.splits+=1,t.set(r,o),t}),new Map),i=e.map((function(t){var e=n.get(t.inputMint),i=function(){if(1===e.splits)return[100-e.consumedPercents,a().subtract(e.inputAmount,e.consumedAmount)];var n=a().divide(a().multiply(t.inAmount,p),e.inputAmount),r=a().divide(a().multiply(n,t.inAmount),p);return[a().toNumber(n),r]}(),o=(0,r.Z)(i,2),s=o[0],u=o[1];return e.consumedPercents+=s,e.splits-=1,e.consumedAmount=a().add(e.consumedAmount,u),{swapInfo:t,percent:s}}));return{inputMint:new o.PublicKey(t.inMint),outputMint:new o.PublicKey(t.outMint),slippageBps:0,swapMode:"ExactIn",inAmount:a().BigInt(t.inAmount),outAmount:a().BigInt(t.outAmount),otherAmountThreshold:a().BigInt(0),priceImpactPct:"",routePlan:i,contextSlot:0}},v=function(t){var e=t.transaction,n=f(e.txHash),r=u.useMemo((function(){if(n.data)return h(n.data)}),[n]);return n.error?(0,x.jsx)("div",{style:{height:400},className:"flex w-screen min-w-full max-w-[600px] items-center justify-center space-y-6 bg-[#313E4C]",children:(0,x.jsx)(i.cC,{id:"hB99cp"})}):r?(0,x.jsx)(m.default,{quoteResponse:r}):(0,x.jsx)("div",{style:{height:400},className:"flex w-screen min-w-full max-w-[600px] flex-col justify-between space-y-6 bg-[#313E4C]",children:(0,x.jsx)(l.Z,{width:600,height:380})})}},80130:function(t,e,n){"use strict";n.r(e),n.d(e,{__N_SSG:function(){return Q},default:function(){return U}});var r=n(97620),i=n(68586),o=n(93981),s=n(72215),a=n(72997),u=n(27195),l=n(8857),c=n.n(l),d=n(81652),f=n(33118),m=n(32529),x=n(30825),p=n(42916),h=n(4707),v=n(25224),g=n(91596),j=n(76021),y=n(23877);function b(t){return function(t,e){if(null==t)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e=e||{})Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}({},t)}var w=n(72775),N=n(33219),A=6e4,P=1440,Z=43200,M=525600;function O(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,N.Z)(2,arguments);var r=n.locale||w.Z;if(!r.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var i=(0,j.Z)(t,e);if(isNaN(i))throw new RangeError("Invalid time value");var o,s,a=b(n);a.addSuffix=Boolean(n.addSuffix),a.comparison=i,i>0?(o=(0,y.Z)(e),s=(0,y.Z)(t)):(o=(0,y.Z)(t),s=(0,y.Z)(e));var u,l=null==n.roundingMethod?"round":String(n.roundingMethod);if("floor"===l)u=Math.floor;else if("ceil"===l)u=Math.ceil;else{if("round"!==l)throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");u=Math.round}var c,d=s.getTime()-o.getTime(),f=d/A,m=(0,g.Z)(s)-(0,g.Z)(o),x=(d-m)/A;if("second"===(c=null==n.unit?f<1?"second":f<60?"minute":f<P?"hour":x<Z?"day":x<M?"month":"year":String(n.unit))){var p=u(d/1e3);return r.formatDistance("xSeconds",p,a)}if("minute"===c){var h=u(f);return r.formatDistance("xMinutes",h,a)}if("hour"===c){var v=u(f/60);return r.formatDistance("xHours",v,a)}if("day"===c){var O=u(x/P);return r.formatDistance("xDays",O,a)}if("month"===c){var k=u(x/Z);return 12===k&&"month"!==n.unit?r.formatDistance("xYears",1,a):r.formatDistance("xMonths",k,a)}if("year"===c){var C=u(x/M);return r.formatDistance("xYears",C,a)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}function k(t,e){return(0,N.Z)(1,arguments),O(t,Date.now(),e)}var C=n(70006),E=n(59978),I=n(40558),D=n(59394),B=n(58898),T=n(42082),_=n(85216),S=n(24628),H=n(70602),K=n(81562),L=n(13154),z=n(11017),R=n(25546),q=n(29541),Y=function(t){var e=t.transaction,n=e.inputAmount,r=e.inputMint,i=e.outputMint,a=e.outputAmount,u=e.txHash,l=e.blockTime,c=(0,s.Bn)().getTokenInfo,d=(0,B.Z)().language,f=(0,C.JT)().openModal,m=(0,T.T)(),x=(0,R.bl)(l),p=(0,o.useMemo)((function(){return c(r)}),[c,r]),g=(0,o.useMemo)((function(){return c(i)}),[c,i]),j=(0,o.useMemo)((function(){return p&&g?{inAmount:(0,v.Z0)(a,g.decimals),outAmount:(0,v.Z0)(n,p.decimals)}:null}),[n,p,a,g]);return(0,q.jsxs)("div",{className:"flex w-full items-center justify-between overflow-hidden rounded-lg bg-history-item p-2 md:px-4 md:py-3",children:[(0,q.jsxs)("div",{className:"hidden flex-col gap-y-1 md:flex",children:[(0,q.jsxs)("div",{className:"flex",children:[(0,q.jsxs)("div",{className:"flex items-center",children:[(0,q.jsx)(E.Z,{info:p,width:20,height:20}),(0,q.jsx)("div",{className:"-ml-2",children:(0,q.jsx)(E.Z,{info:g,width:20,height:20})})]}),(0,q.jsxs)("div",{className:"ml-2 flex items-center gap-x-2 text-xs text-v2-lily/70",children:[(0,q.jsxs)("span",{children:[v.uf.format(n)," ",(null===p||void 0===p?void 0:p.symbol)||""]}),(0,q.jsx)("div",{className:"fill-current text-v2-lily/30",children:(0,q.jsx)(z.Z,{})}),(0,q.jsxs)("span",{children:[v.uf.format(a)," ",(null===g||void 0===g?void 0:g.symbol)||""]})]})]}),j&&g&&p?(0,q.jsx)(L.Z,{className:"text-xs",textClassName:"!min-w-[9rem]",inputPair:g,outputPair:p,inputAmount:j.inAmount,outputAmount:j.outAmount}):null]}),(0,q.jsxs)("div",{className:"flex flex-col gap-y-1 md:hidden",children:[(0,q.jsx)("div",{className:"flex",children:(0,q.jsxs)("div",{className:"text-xs",children:[(0,q.jsxs)("div",{className:"flex items-center gap-x-2 text-v2-lily/70",children:[(0,q.jsx)(E.Z,{info:p,width:20,height:20}),(0,q.jsxs)("p",{children:[v.uf.format(n)," ",(null===p||void 0===p?void 0:p.symbol)||""]})]}),(0,q.jsxs)("div",{className:"flex items-center gap-x-2 text-v2-lily/70",children:[(0,q.jsx)(E.Z,{info:g,width:20,height:20}),(0,q.jsxs)("p",{children:[v.uf.format(a)," ",(null===g||void 0===g?void 0:g.symbol)||""]})]})]})}),j&&g&&p?(0,q.jsx)(L.Z,{className:"text-xs",textClassName:"!min-w-[9rem]",inputPair:g,outputPair:p,inputAmount:j.inAmount,outputAmount:j.outAmount}):null]}),(0,q.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,q.jsxs)("div",{className:"flex items-center justify-end gap-x-1 lg:gap-x-2",children:[(0,q.jsx)(I.Z,{content:h.ag._({id:"Yyubcm"}),children:(0,q.jsx)("button",{type:"button",onClick:function(){m(p,g)},className:"flex h-7 w-7 items-center justify-center rounded-full border border-v2-lily/10 p-2",children:(0,q.jsx)(_.Z,{width:10,height:10})})}),(0,q.jsx)(I.Z,{content:h.ag._({id:"oi5bfK"}),children:(0,q.jsx)("button",{type:"button",onClick:function(){f((0,q.jsx)(K.Z,{transaction:t.transaction}),{noCloseButton:!1,containerStyle:{background:"none"}})},className:"flex h-7 w-7 items-center justify-center rounded-full border border-v2-lily/10 p-2",children:(0,q.jsx)(H.Z,{})})}),(0,q.jsx)(I.Z,{placement:"bottom-start",content:h.ag._({id:"LLapxL"}),children:(0,q.jsx)(D.Z,{txid:u,className:"flex h-7 w-7 items-center justify-center rounded-full border border-v2-lily/10 p-2",children:(0,q.jsx)(S.Z,{width:10,height:10})})})]}),x&&(0,q.jsx)("span",{className:"text-right text-xs font-normal text-v2-lily/30",children:k(x,{locale:d.timeLocale})})]})]})},G=function(){var t=(0,d.Os)().connected,e=(0,d.Bn)(),n=e.getTokenInfo,r=e.requestTokenInfo,i=e.requestOnChainTokenInfo,s=(0,o.useState)(0),a=s[0],l=s[1],h=(0,o.useState)(!1),v=h[0],g=h[1],j=(0,p.Z)(),y=j.data,b=j.isLoading,w=(0,o.useState)([]),N=w[0],A=w[1],P=(0,o.useMemo)((function(){return y?Math.ceil(y.length/5):0}),[y]),Z=(0,m.Y)({pageIndex:a,setPageIndex:l,pageCount:P}),M=Z.pager,O=Z.gotoPage,k=Z.canPreviousPage,C=Z.canNextPage;return(0,o.useEffect)((function(){if(!(!0===b&&(y||[]).length>0)){var t=(null===y||void 0===y?void 0:y.slice(5*a,5*(a+1)))||[];g(!1);var e=function(){var e=(0,u.Z)(c().mark((function e(){var o,s,a,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=new Set,t.forEach((function(t){o.add(t.inputMint),o.add(t.outputMint)})),s=Array.from(o).filter(Boolean),e.next=6,r(s);case 6:if(a=e.sent,!((u=s.filter((function(t){return void 0===n(t)})).filter((function(t){return void 0===a.find((function(e){return e.address===t}))}))).length>0)){e.next=11;break}return e.next=11,i(u);case 11:A(t),g(!0),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("Error fetching token infos",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();e()}}),[n,y,b,a,i,r]),t?!b&&y&&0===y.length?(0,q.jsx)("div",{className:"flex h-[150px] w-full items-center justify-center rounded-lg border border-v2-lily/5",children:(0,q.jsx)("p",{className:"text-sm text-v2-lily/50",children:"No swap history"})}):(0,q.jsxs)("div",{className:"flex w-full flex-col lg:gap-y-2",children:[(0,q.jsxs)("div",{className:"relative flex w-full flex-col gap-y-2",children:[!v&&(0,q.jsx)("div",{className:"absolute left-0 top-0 z-20 h-full w-full bg-black/10 backdrop-blur-sm"}),(N||[]).map((function(t){var e=t.inputAmount,n=t.outputAmount,r=t.txHash;return e||n?(0,q.jsx)(Y,{transaction:t},r):null}))]}),N&&N.length>0&&P>0?(0,q.jsx)(x.Z,{canPreviousPage:k,gotoPage:O,pageIndex:a,pager:M,canNextPage:C}):null]}):(0,q.jsxs)("div",{className:"flex h-[200px] w-full flex-col items-center justify-center space-y-2 rounded-lg border border-v2-lily/5",children:[(0,q.jsx)("p",{className:"text-sm text-v2-lily/50",children:"View History"}),(0,q.jsx)("div",{className:"h-10 w-40",children:(0,q.jsx)(f.Z,{size:"sm"})})]})},V=n(88016),X=n(13170),F=n(46228),J=n(22466),Q=!0,U=function(){var t=(0,J.V)(),e=(0,r.Z)(t,2),n=e[0],u=e[1],l=(0,F.hv)().appDomain,c=(0,s.gZ)().fetchTokenAccounts;return(0,o.useEffect)((function(){n&&u&&c([n.address,u.address,X.W4])}),[n,u,c]),(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(i.PB,{title:"Swap"}),(0,q.jsxs)("div",{className:"z-10 w-full",children:[(0,q.jsx)(V.Z,{inToken:n,outToken:u}),(0,F.mD)(l)&&l.container.leftContainerHistories&&l.container.leftContainerHistories.current&&(0,a.createPortal)((0,q.jsx)(G,{}),l.container.leftContainerHistories.current),(0,F.mD)(l)&&l.container.bottomPageHistories&&l.container.bottomPageHistories.current&&(0,a.createPortal)((0,q.jsx)(G,{}),l.container.bottomPageHistories.current)]})]})}},54950:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/swap/[inOut]",function(){return n(80130)}])},99882:function(t,e,n){"use strict";n.d(e,{w:function(){return u}});var r=n(77169),i=n(60021),o=n(31242),s=n(39913),a=n(80049),u=(0,r.z)({chartName:"LineChart",GraphicalChild:i.x,axisComponents:[{axisType:"xAxis",AxisComp:o.K},{axisType:"yAxis",AxisComp:s.B}],formatAxisMap:a.t9})},63989:function(t,e,n){"use strict";function r(){return r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r.apply(this,arguments)}n.d(e,{Z:function(){return r}})}},function(t){t.O(0,[13215,94669,57673,61936,36027,88016,49774,92888,40179],(function(){return e=54950,t(t.s=e);var e}));var e=t.O();_N_E=e}]);
//# sourceMappingURL=[inOut]-1536a0d6e5cdf6f1.js.map